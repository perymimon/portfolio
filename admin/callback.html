<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Decap CMS</title>

</head>
<body>
<script>
    // Handle the OAuth callback
    const hash = document.location.hash;
    const params = {};
    
    if (hash) {
        // Parse hash parameters into object
        hash.replace('#', '').split('&').forEach(param => {
            const [key, value] = param.split('=');
            params[key] = value;
        });

        // Store the token
        if (params.access_token) {
            localStorage.setItem('netlify-cms-user', JSON.stringify({
                token: { access_token: params.access_token }
            }));
            
            // Redirect back to the admin
            document.location.href = '/portfolio/admin/';
        }
    }
</script>
<script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
</body>
</html>